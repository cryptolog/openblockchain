{% extends "base.html" %}

{% block content %}

<div class="transaction-wrap col-lg-12">
    <h1> 比特币交易信息:</small> </h1>
<div class="transaction_section">
    <div class="transaction" >
        <div class="transaction_hash">
            <a class="nos-link" href="/tx/{{ tx.hash }}"> {{ tx.hash}} </a>
        </div>
     <div class="currency_btn">
        <button class="btn btn-success cb">
            <span> {{tx.out_value/100000000|float}} </span>
        </button>
    </div>    

        <div class="tx_input">
            {% if tx.coinbase %}
            <span class="pull-left">
                <span> 新块奖励 </span>
            </span>
            {% else %}
            {% for addr in tx.in_addresses%}
            <a href="/addr/{{ addr.address }}"> {{ addr.address }}</a>
            <span class="pull-right">
                <span> ({{addr.value/100000000|float}}  BTC)</span>
            </span>
            {% endfor %}
            </br>
 
            {% endif %}
        </div>

        <div class="tx_arrow">
            <i class="fa fa-arrow-right fa-3x">
            </i>
        </div>
 
        <div class="tx_output">
            {% for addr in tx.out_addresses%}
            <a href="/addr/{{ addr.address }}"> {{ addr.address }}</a>
            <span class="pull-right">
                <span> ({{addr.value/100000000|float}}  BTC)</span>
            </span>
            </br>
            {% endfor %}
        </div>

    </div>
    </div>

</div>


<div class="middle-section">
    <div class="col-lg-7">
        <table class="table table-striped">
            <tbody>
            <tr> <th colspan="2"> 交易信息 </th> </tr>
            <tr> <td> 版本 </td> <td> {{tx.version}}</td> </tr>
            <tr> <td> locktime </td> <td> {{tx.lock_time}}</td> </tr>
            {% if tx.recv_time %}
            <tr> <td> 接收时间</td> <td> {{tx.recv_time}}</td> </tr>
            {% endif %}
            {% if tx.ip %}
            <tr> <td> relay IP</td> <td> {{tx.ip}}</td> </tr>
            {% endif %}
            <tr> <td> 大小 </td> <td> {{tx.tx_size}}</td> </tr>
            {% if not tx.coinbase %}
            <tr> <td> 交易费 </td> <td> {{tx.fee/100000000|float}} BTC</td> </tr>
            <tr> <td> 输入 </td> <td> {{tx.in_value/100000000|float}} BTC</td> </tr>
            <tr> <td> 输入数目 </td> <td> {{tx.in_count}} </td> </tr>
            {% endif %}
            <tr> <td> 输出 </td> <td> {{tx.out_value/100000000|float}} BTC</td> </tr>
            <tr> <td> 输出数目 </td> <td> {{tx.out_count}}</td> </tr>
        </tr>
        </tbody>
    </table>
        {% if tx.coinbase %}
            <h4> Coinbase:</h4>
            <table class="table table-striped">
                <tr> <td> {{tx.vin[0].script_sig}} </td> </tr>
            </table>
        {% else %}
            <h4> 输入列表: </h4>
            <table class="table table-striped">
                {% for txin in tx.vin %}
                <tr> <td> {{txin.script_sig}} </td> </tr>
                {% endfor %}
            </table>
        {% endif %}
        <h4> 输出列表: </h4>
        <table class="table table-striped">
            {% for txout in tx.vout %}
            <tr> <td> {{txout.pk_script}} </td> </tr>
            {% endfor %}
        </table>
    </div>
</div>
 

{% endblock %}
